// Generated by scripts/gen_oracle.mjs. Do not edit by hand.

///|
test "oracle valid compare" {
  let cases : Array[(String, String, Int)] = [
    ("2026.01.1", "2026.01.1", 0),
    ("2026.01.1", "2026.01.2", -1),
    ("2026.01.1", "2026.02.1", -1),
    ("2026.01.1", "2027.01.1", -1),
    ("2026.01.1", "2026.01.1-alpha", 1),
    ("2026.01.1", "2026.01.1-alpha.1", 1),
    ("2026.01.2", "2026.01.1", 1),
    ("2026.02.1", "2026.01.1", 1),
    ("2027.01.1", "2026.01.1", 1),
    ("2026.01.1-alpha", "2026.01.1-alpha", 0),
    ("2026.01.1-alpha", "2026.01.1-alpha.1", -1),
    ("2026.01.1-alpha.1", "2026.01.1-alpha.1", 0),
    ("2026.01.1-beta", "2026.01.1-alpha", 1),
    ("2026.01.1-rc.1", "2026.01.1-beta.11", 1),
    ("2026.01.1-alpha", "2026.01.1", -1),
    ("2026.01.1-alpha", "2026.01.2", -1),
    ("2026.01.1-alpha", "2026.02.1", -1),
  ]
  for item in cases {
    let (a, b, expected) = item
    let va = parse(a)
    let vb = parse(b)
    assert_eq(va.compare(vb), expected)
  }
}

///|
test "oracle invalid parse" {
  let cases : Array[String] = [
    "", "2026", "2026.01", "2026.01.1.1", "2026.01.01", "2026.01.1-01", "2026.01.1-",
    "2026.01.1+", "2026.01.1-alpha..1", "2026.01.1-alpha.", "2026.01.1+build..1",
    "2026.01.1+build.", "2026.01.1+build..", "2026.01.1-α", "2026.01.1+α", "2026.01.1+build!",
  ]
  for s in cases {
    let result : Result[Calver, CalverError] = try? parse(s)
    assert_true(result is Err(_))
  }
}
